import{u as j,r as n,c as y,a as f,g as N,j as e,N as w,P as L,L as c,i as k}from"./index-020c9027.js";import{o as E,c as v,a as i,b as A,V as P,F as o}from"./yup-6604d8dd.js";import{A as C}from"./AuthLayout-ae127fd0.js";const I=()=>e.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:["Don't have an account ?",e.jsx(c,{to:"/auth/register",className:"text-primary ms-1",children:e.jsx("b",{children:"Register"})})]}),S=()=>{var m;const r=j(),[a,d]=n.useState(!1),{user:u,userLoggedIn:x,loading:b,error:l}=y(s=>({user:s.Auth.user,loading:s.Auth.loading,error:s.Auth.loginError,userLoggedIn:s.Auth.userLoggedIn}));n.useEffect(()=>{r(f())},[r]);const h=E(v().shape({email:i().required("Please enter Email").email("Please enter valid Email"),password:i().required("Please enter Password"),remember:A()})),p=s=>{r(k(s.email,s.password,a))},t=N(),g=((m=t==null?void 0:t.search)==null?void 0:m.slice(6))||"/";return e.jsxs(e.Fragment,{children:[(x||u)&&e.jsx(w,{to:g}),e.jsx(L,{title:"Login"}),e.jsxs(C,{authTitle:"Sign In",helpText:"Enter your email address and password to access admin panel.",bottomLinks:e.jsx(I,{}),children:[l&&e.jsx("div",{className:"text-red-500 bg-red-100 rounded px-2 py-1 mb-3",children:l}),e.jsxs(P,{onSubmit:p,resolver:h,defaultValues:{email:"",password:"",remember:!1},children:[e.jsx(o,{label:"Email Address",type:"email",name:"email",placeholder:"Enter your email",containerClass:"mb-4",className:"form-input",labelClassName:"block text-sm font-medium text-gray-600 dark:text-gray-200 mb-2",required:!0}),e.jsx(o,{label:"Password",type:"password",name:"password",placeholder:"Enter your password",containerClass:"mb-4",className:"form-input",labelClassName:"block text-sm font-medium text-gray-600 dark:text-gray-200 mb-2",required:!0}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(o,{label:"Remember me",type:"checkbox",name:"remember",containerClass:"flex items-center",labelClassName:"ms-2",className:"form-checkbox rounded",checked:a,onChange:()=>d(!a)}),e.jsx(c,{to:"/auth/recover-password",className:"text-sm text-primary border-b border-dashed border-primary",children:"Forget Password ?"})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("button",{className:"btn w-full text-white bg-primary",type:"submit",disabled:b,children:"Log In"})})]})]})]})};export{S as default};
